# Домашнее задание 07
## Работа с базами данных, пользователями и правами

В Яндекс облаке (https://console.cloud.yandex.ru/folders/b1gc3pbtk2b65f8pf2qc/compute/instances)
создал новый кластер PostgresSQL 13.  

Создал базу данных testdb, схему testnm и таблицу т1 с данными.  

Создал роль readonly и выдал роли права.  
Создал пользователя testread и дал ему роль readonly.  

Зайти в базу testdb не получилось, пока не указал локальный ip в строке подключения (**postgres=# \c testdb testread 127.0.0.1**).  
По шпаргалке отредактировал pg_hba.conf, поменял метод авторизаци с peer на md5 для всех, кроме пользователя postgres. Перезапустил кластер субд.   Пользователя testread стало пускать в базу testdb с вводом пароля.  

**select * from t1;** не получился, потому что таблица т1 создалась в схеме public. Поменял схему таблицы на testnm (**alter table t1 set schema testnm**) и селект заработал с указанием полного имени **select * from testnm.t1;**  

Пересоздал таблицу t1 с указанием схемы и селект снова перестал работать.  
С помощью шпаргалки снова назначил права на таблицы в схеме.  

Попробывал создать новую таблицу т3 под пользователем testread. Таблица создалась.  
С помощью шпаргалки забрал права CREATE в схеме public у группы public.
